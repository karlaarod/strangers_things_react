{"version":3,"sources":["api/index.js","components/App.js","components/Account.js","components/List.js","components/Post.js","components/Nav.js","components/NewPost.js","components/Profile.js","components/Message.js","components/Inbox.js","components/ViewUserPosts.js","index.js"],"names":["API_URL","BASE_URL","callApi","a","url","method","token","body","options","toUpperCase","headers","JSON","stringify","console","log","fetch","response","json","data","error","alert","message","fetchUserData","fetchPosts","posts","App","useState","setToken","userData","setUserData","setPosts","useEffect","localStorage","getItem","username","exact","path","className","action","Account","setUsername","password","setPassword","isLogin","title","oppositeTitle","oppositeAction","history","useHistory","handleSubmit","event","preventDefault","user","setItem","push","onSubmit","type","required","onChange","target","value","to","List","searchTerm","updateSearchTerm","postsDisplay","length","filter","post","searchTermLowercase","toLowerCase","description","location","author","includes","postMatches","placeholder","map","onClick","_id","Post","postId","useParams","find","userId","handleDelete","success","postAuthor","price","willDeliver","Nav","src","clear","NewPost","setTitle","setDescription","setPrice","setLocation","setWillDeliver","handleOnSubmit","rows","cols","maxLength","Profile","Message","content","setContent","handleSumbit","Inbox","messages","myInbox","sentMessages","fromUser","receivedMessages","index","ViewUserPosts","myPosts","activePost","active","createdAt","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.54bdffa2.chunk.js","sourcesContent":["export const BASE_URL = 'https://strangers-things.herokuapp.com/api/';\nexport const COHORT_NAME = '2010-USD-RM-WEB-PT';\nexport const API_URL = BASE_URL + COHORT_NAME;\n\nexport const callApi = async ({ url, method, token, body }) => {\n    try {\n        const options = {\n            method: method ? method.toUpperCase() : 'GET',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(body),\n        };\n        if (token) {\n            options.headers['Authorization'] = `Bearer ${token}`;\n        }\n        console.log('request url: ', API_URL + url);\n        const response = await fetch(API_URL + url, options);\n        const data = await response.json();\n        // console.log('data: ', data);\n        // console.log('callApi: ', { url, method, token, body });\n        if (data.error) throw data.error;\n        return data;\n\n    } catch (error) {\n        alert( `Error: ${error.message}`);\n    }\n};","import React, { useState, useEffect } from \"react\";\nimport { Route, useHistory } from \"react-router-dom\";\nimport {\n  Account,\n  List,\n  Post,\n  Nav,\n  NewPost,\n  Profile,\n  Message,\n  Inbox,\n  ViewUserPosts,\n} from \"./\";\nimport { callApi } from \"../api\";\n\nconst fetchUserData = async (token) => {\n  const { data } = await callApi({\n    url: \"/users/me\",\n    token,\n  });\n  return data;\n};\n\nconst fetchPosts = async () => {\n  const {\n    data: { posts },\n  } = await callApi({\n    url: \"/posts\",\n  });\n  return posts;\n};\n\nconst App = () => {\n  const [token, setToken] = useState(\"\");\n  const [userData, setUserData] = useState({});\n  const [posts, setPosts] = useState([]);\n\n//   console.log(\"token\", token);\n\n  useEffect(async () => {\n    const posts = await fetchPosts();\n    if (posts){ \n      setPosts(posts);\n    }\n    if (!token) {\n      setToken(localStorage.getItem(\"token\"));\n      return;\n    }\n    const data = await fetchUserData(token);\n    if (data && data.username) {\n      setUserData(data);\n    }}, [token]);\n\n\n  return (\n    <>\n      <Nav userData={userData} setUserData={setUserData} setToken={setToken} />\n\n      <Route exact path=\"/\">\n        {userData.username ? (\n          <div className=\"title-page\">\n            <h1>Hello, {userData.username}!</h1>\n            <h1>Where Stranger is Better!</h1>\n          </div>\n        ) : (\n          <div className=\"title-page\">\n            <h1>Where Stranger is Better!</h1>\n          </div>\n        )}\n      </Route>\n      <Route path=\"/login\">\n        <Account action=\"login\" setToken={setToken} setUserData={setUserData} />\n      </Route>\n      <Route path=\"/register\">\n        <Account\n          action=\"register\"\n          setToken={setToken}\n          setUserData={setUserData}\n        />\n      </Route>\n      <Route exact path=\"/posts\">\n        <List posts={posts} />\n        {console.log('posts:', posts)}\n      </Route>\n      <Route path=\"/posts/:postId\">\n        <Post\n          posts={posts}\n          setPosts={setPosts}\n          token={token}\n          userData={userData}\n        />\n      </Route>\n      <Route path=\"/posts/:postId/messages\">\n        <Message token={token}></Message>\n      </Route>\n      <Route path=\"/dashboard\">\n        <Profile \n        userData={userData} \n        posts={posts} \n        token={token} /> \n      </Route>\n      <Route path=\"/dashboard/messages\">\n     <Inbox \n        userData={userData} \n        posts={posts} /> \n      </Route>\n      <Route path=\"/newPost\">\n        <NewPost \n        posts={posts} \n        setPosts={setPosts} \n        token={token} />\n      </Route>\n      <Route exact path=\"/dashboard/myposts\">\n        <ViewUserPosts \n        userData={userData} />\n      </Route>\n    </>\n  );\n};\n\nexport default App;\n","import React, { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { callApi } from '../api'\n\n\nconst Account = ({ action, setToken, setUserData }) => {\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n    const isLogin= action === 'login';\n    const title = isLogin ? 'Login' : 'Create Account';\n    const oppositeTitle = isLogin ? 'Create Account' : 'Login';\n    const oppositeAction = isLogin ? 'register' : 'login';\n    const history= useHistory ();\n\n    const handleSubmit = async (event) => {\n        event.preventDefault();\n        const data = await callApi({\n            url: `/users/${action}`,\n            body: { user: { username, password } },\n            method: 'POST',\n        });\n        const token = data?.data?.token;\n\n        if (token) {\n            localStorage.setItem('token', token);\n            setUsername('');\n            setPassword('');\n            setToken(token);\n            history.push('/dashboard');\n        }\n    };\n\n    return (\n        <div className= 'account-form'>\n        <h1> {title} </h1>\n            <form onSubmit= {handleSubmit}>\n                <label>Username:</label>\n                <input \n                type='text' \n                required\n                onChange = {(event) => \n                    setUsername(event.target.value)\n                }></input>\n                <label>Password:</label>\n                <input \n                type='password' \n                required\n                onChange = {(event) => \n                    setPassword(event.target.value)\n                }></input>\n                  <label>Re-enter Password:</label>\n                <input type='password' required\n                onChange = {(event) => \n                    setPassword(event.target.value)\n                 } ></input>\n                <button type='submit'> {title} </button> \n                </form>\n\n            <Link to= {`/${oppositeAction}`}> {oppositeTitle} </Link>\n        </div>\n    );\n }\nexport default Account;","import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nconst postMatches = (post, searchTerm) =>{\n    const searchTermLowercase= searchTerm.toLowerCase();\n    const{ \n        description, \n        location, \n        title, \n        author: { username }\n    } = post;\n\n    const toMatch = [description, location, title, username];\n    for (const field of toMatch){\n        if (field.toLowerCase().includes(searchTermLowercase)){\n            return true;\n        }\n    }\n}\n\nconst List = ({ posts }) => {\n    const history = useHistory();\n    const [searchTerm, updateSearchTerm] = useState ('')\n\n    const postsDisplay = searchTerm.length > 0 ?\n    posts.filter((post) => postMatches(post, searchTerm)) : posts;\n\n    return (\n        <>\n            \n            <h2>Posts</h2>\n            <div className= 'search-bar'>\n            <input\n            className= 'search-input'\n            type = 'text'\n            placeholder= 'Search for posts'\n            value= {searchTerm}\n            onChange= {(event)=> {\n                updateSearchTerm(event.target.value);\n            }} \n            />\n             <button>SEARCH</button>\n            </div>\n            <div className='post-list'>\n            { postsDisplay.length > 0 && postsDisplay ? (\n                postsDisplay.map(( post ) => (\n                    <div key= {post._id} className= 'post'>\n                <h5>{post.title}</h5>\n                <div>Posted by: {post.author.username}</div>\n                <div>Description: {post.description} </div>\n                <button\n                    onClick={() => {\n                    history.push(`/posts/${post._id}`);\n                    }}>View Post</button>\n                    </div>\n                    ))\n                ) : (\n                    <h5>NO posts to display</h5>\n            )}\n            </div>\n        </>\n    );\n};\n\nexport default List;\n\n","import React from 'react';\nimport { callApi } from '../api';\nimport { useHistory, useParams } from 'react-router-dom';\n\n\n\n\nconst Post = ({posts, setPosts, token, userData}) => {\nconst history= useHistory()\nconst {postId} = useParams();\nconst post = posts.find((post) => postId === post._id);\nconst userId= userData._id\n\n\nconst handleDelete = async ()=>{\n    const {success} = await callApi ({\n        url: `/posts/${post._id}`,\n        token: token,\n        method:'DELETE'\n    });\n    if(success){\n        alert('Post Deleted!')\n        history.push('/dashboard')\n        setPosts([...posts])\n\n    }\n\n}\n\n  if (!post){\n      return <div></div>\n  } \n  const postAuthor = post.author._id;\n\n  return (\n\n        <div className='single-post'>\n             <h5> {post.title} </h5>\n             <div> Posted by: { post.author.username }</div>\n             <div> Location: { post.location }</div>\n             <div> Description: { post.description }</div>\n             <div>Price : ${post.price}</div>\n             <div>Delivers: { post.willDeliver ? 'Yes' : 'No' }</div>\n             {userId === postAuthor && postAuthor? (\n             <button onClick= {handleDelete}>Delete</button>)\n             : null\n             }\n             {userId !== postAuthor ? (\n            <button\n            onClick= {() =>{\n            history.push(`/posts/${postId}/messages`)\n            }} > Reply</button>) : null\n            }\n        </div>\n    )\n\n\n}\n\nexport default Post","import React, {useState} from 'react';\nimport { Link, useHistory } from 'react-router-dom';\n\n\n\n\n\n\nconst Nav = ({userData, setUserData, setToken}) =>{\n    console.log('nav id', userData._id)\n    const history = useHistory();\n\n    const logOut = () => {\n        localStorage.clear();\n        setUserData({});\n        setToken('');\n        history.push(\"/\");\n    \n};\n\n\nreturn (\n    <header>\n    <img src=\"/logo.png\"></img>\n    <div className='nav-links'>\n    <Link to ='/'>Home</Link>\n    <Link to='/posts'>Posts</Link>\n    <Link to='/dashboard'>Profile</Link>\n    {userData._id ? (\n        <Link to=\"/\" onClick={() => logOut()}>\n              Logout\n        </Link>\n          ) : (\n        <Link to='/login'>\n              Login / Register\n        </Link>\n    )}\n    </div>\n    </header>\n)\n}\n\nexport default Nav;","import React, {useState} from 'react';\nimport { callApi } from '../api';\nimport { useHistory } from 'react-router-dom';\n\n\n\nconst NewPost = ({posts, setPosts, token}) =>{\n    const [title, setTitle] = useState('');\n    const [description, setDescription]= useState('')\n    const [price, setPrice] = useState ('');\n    const [location, setLocation] = useState ('On Request');\n    const [willDeliver, setWillDeliver] = useState (false);\n    const history= useHistory ();\n\n\n    const handleOnSubmit = async (event) => {\n        event.preventDefault();\n\n        const { data, success, error } = await callApi({\n            url: `/posts`,\n            method: 'POST',\n            token: token,\n            body: { post:  \n          {  title,\n            description,\n            price,\n            location,\n            willDeliver}\n                },\n        })\n        if(data && success && data.post)\n        {setPosts([ ...posts, data.post])}\n        console.log(posts)\n        console.log(data)\n\n        history.push(`/posts/`);\n \n\n    }\n\n    return (\n    \n        <form className='add-post' onSubmit = {handleOnSubmit}>       \n        <h2>Create New Post:</h2> \n        <input type= 'text' placeholder= 'title' \n        value = {title}\n        onChange= {(event)=>{\n            setTitle(event.target.value)\n        }}\n        required></input>\n        <textarea placeholder= 'Description' rows=\"2\" cols=\"15\" maxLength=\"50\" required\n        value= {description}\n        onChange= {(event)=> {\n            setDescription(event.target.value)\n        }}\n        ></textarea>\n        <input type='number' placeholder= 'Price' required\n        value= {price}\n        onChange= {(event)=> {\n            setPrice(event.target.value)\n        }}\n        ></input>\n        <input type= 'text' placeholder= 'Location'\n        value={location} \n        onChange= {(event)=> {\n            setLocation(event.target.value)\n        }}\n        ></input>\n        <select\n        value= {true}\n        onChange= {(event)=> {\n         setWillDeliver(event.target.value)\n        }}\n        >\n        <option >Able to Deliver?</option>\n        <option value='yes'>Yes</option>\n        <option value='no'>No</option>\n        </select>\n        <button>Add Post</button>\n        </form>\n    \n    )\n\n}\n\nexport default NewPost;","import React from \"react\";\nimport { useHistory, Link } from \"react-router-dom\";\n\nconst Profile = ({ userData }) => {\n  const history = useHistory();\n\n  if (!userData._id) {\n    return (\n      <div className=\"sign-in-message\">\n        <h1>Need to Log in</h1>\n        <Link to=\"/login\">Log in here</Link>\n      </div>\n    );\n  }\n  return (\n    <>\n      <div className=\"dashboard-messages\">\n        {userData.username && <h1>Hello, {userData.username}!</h1>}\n      </div>\n      <aside>\n        <button\n          onClick={() => {\n            history.push(\"/newPost\");\n          }}\n        >\n          Create New Listing\n        </button>\n        <button\n          onClick={() => {\n            history.push(\"/dashboard/messages\");\n          }}\n        >\n          Inbox\n        </button>\n        <button\n          onClick={() => {\n            history.push(\"/dashboard/myposts\");\n          }}\n        >\n          View my Post\n        </button>\n      </aside>\n    </>\n  );\n};\n\nexport default Profile;\n","import React, { useState } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { callApi } from '../api';\n\n\n\nconst Message= ({token}) =>{\n    const {postId} = useParams();\n    const [content, setContent] = useState ('');\n    const history= useHistory();\n\nconsole.log('postid', postId)\nconsole.log('token is',token)\n\nconst handleSumbit= async(event) =>{\n    event.preventDefault();\n\n    const data = await callApi ({\n        url: `/posts/${postId}/messages`,\n        method:'POST',\n        token: token,\n        body: { message: {content}}\n    })\n    console.log('data:',data)\n\n    const messageSuccess = data?.success;\n    if (messageSuccess){\n        alert('Message Sent!')\n        history.push('/dashboard/')\n    } \n\n    console.log(data)\n\n}\n    return(   \n        <div className='message-form'>\n         <h1>Reply to Post</h1>\n         <form onSubmit={handleSumbit}>\n         <textarea className='message-form-textarea' placeholder= 'type a message' rows=\"10\" cols=\"40\" maxLength=\"150\" required\n         value={content}\n         onChange= {(event)=>{\n             setContent(event.target.value)\n         }}\n        ></textarea>\n        <button>Send</button>\n        <button onClick= {()=>{\n            history.push(`/posts/${postId}`)\n        }} >Cancel</button>\n        </form>\n         </div>\n    )    \n}\n\nexport default Message","import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nconst Inbox = ({ userData, posts }) => {\n  const history = useHistory();\n\n\n  console.log(\"userData\", userData);\n\n\n  if ( !userData.messages || !posts) {\n   return  <div></div>;\n  }\n  const userId = userData._id;\n  const myInbox = userData.messages ;\n  const sentMessages = myInbox.filter((message) => {\n    return userId === message.fromUser._id;\n  });\n  const receivedMessages = myInbox.filter((message) => {\n    return userId !== message.fromUser._id;\n  });\n   console.log(\"messages\", myInbox);\n    console.log(\"sent\", sentMessages);\n  \n    console.log(\"received\", receivedMessages);\n  return (\n    <div className=\"messages-display\">\n      <h2>Messages Received:</h2>\n\n      {receivedMessages ? (\n        receivedMessages.map((message, index) => {\n          return (\n            <div key={index} className=\"messages-received\">\n              <h3>From: {message.fromUser.username}</h3>\n              <h3>Message: {message.content}</h3>\n              <h3>Orginial Post: {message.post.title} </h3>\n              <button\n                onClick={() => {\n                  history.push(`/posts/${message.post._id}`);\n                }}\n              >\n                View Original Post\n              </button>\n            </div>\n          );\n        })\n      ) : (\n        <h3>No Messages Received</h3>\n      )}\n      <h2>Messages Sent:</h2>\n\n      {sentMessages ? (\n        sentMessages.map((message, index) => {\n          return (\n            <div key={index} className=\"messages-sent\">\n              <h3>From: {message.fromUser.username}</h3>\n              <h3>Message: {message.content}</h3>\n              <h3>Orginial Post: {message.post.title} </h3>\n              <button\n                onClick={() => {\n                  history.push(`/posts/${message.post._id}`);\n                }}\n              >\n                View Original Post\n              </button>\n            </div>\n          );\n        })\n      ) : (\n        <h3>No Messages Sent</h3>\n      )}\n    </div>\n  );\n};\n\nexport default Inbox;\n","import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nconst ViewUserPosts = ({ userData }) => {\n  const myPosts = userData.posts;\n  const history = useHistory();\n\n  console.log(\"userData\", userData);\n\n\n  if (!myPosts) {\n    return <h5>NO posts to display</h5>;\n  }\n  const activePost = myPosts.filter((post) => post.active === true);\n  return (\n    <div className=\"users-posts\">\n      {activePost.map((post, index) => {\n        return (\n          <div key={index}>\n            <h5>{post.title}</h5>\n            <div>Created at: {post.createdAt}</div>\n            <div>Description: {post.description} </div>\n            <button\n              onClick={() => {\n                history.push(`/posts/${post._id}`);\n              }}\n            >\n              View Post\n            </button>\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default ViewUserPosts;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nimport { App } from './components';\n\nReactDOM.render(\n    <Router>\n        <App />\n        </Router>,\n    document.querySelector('#app'),\n);"],"sourceRoot":""}
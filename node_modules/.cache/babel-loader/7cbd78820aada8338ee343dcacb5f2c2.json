{"ast":null,"code":"import _regeneratorRuntime from\"/Users/karlarodriguez/Desktop/course_work/strangers_thing_react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _toConsumableArray from\"/Users/karlarodriguez/Desktop/course_work/strangers_thing_react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _asyncToGenerator from\"/Users/karlarodriguez/Desktop/course_work/strangers_thing_react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/karlarodriguez/Desktop/course_work/strangers_thing_react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{callApi}from'../api';import{useHistory}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var NewPost=function NewPost(_ref){var posts=_ref.posts,setPosts=_ref.setPosts,token=_ref.token;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),price=_useState6[0],setPrice=_useState6[1];var _useState7=useState('On Request'),_useState8=_slicedToArray(_useState7,2),location=_useState8[0],setLocation=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),willDeliver=_useState10[0],setWillDeliver=_useState10[1];var history=useHistory();var handleOnSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var _yield$callApi,data,success,error;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.next=3;return callApi({url:\"/posts\",method:'POST',token:token,body:{post:{title:title,description:description,price:price,location:location,willDeliver:willDeliver}}});case 3:_yield$callApi=_context.sent;data=_yield$callApi.data;success=_yield$callApi.success;error=_yield$callApi.error;if(data&&success&&data.post){setPosts([].concat(_toConsumableArray(posts),[data.post]));}console.log(posts);console.log(data);history.push(\"/posts/\");case 11:case\"end\":return _context.stop();}}},_callee);}));return function handleOnSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"form\",{className:\"add-post\",onSubmit:handleOnSubmit,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Create New Post:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"title\",value:title,onChange:function onChange(event){setTitle(event.target.value);},required:true}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Description\",rows:\"2\",cols:\"15\",maxLength:\"50\",required:true,value:description,onChange:function onChange(event){setDescription(event.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Price\",required:true,value:price,onChange:function onChange(event){setPrice(event.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Location\",value:location,onChange:function onChange(event){setLocation(event.target.value);}}),/*#__PURE__*/_jsxs(\"select\",{value:true,onChange:function onChange(event){setWillDeliver(event.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{children:\"Able to Deliver?\"}),/*#__PURE__*/_jsx(\"option\",{value:\"yes\",children:\"Yes\"}),/*#__PURE__*/_jsx(\"option\",{value:\"no\",children:\"No\"})]}),/*#__PURE__*/_jsx(\"button\",{children:\"Add Post\"})]});};export default NewPost;","map":{"version":3,"sources":["/Users/karlarodriguez/Desktop/course_work/strangers_thing_react/src/components/NewPost.js"],"names":["React","useState","callApi","useHistory","NewPost","posts","setPosts","token","title","setTitle","description","setDescription","price","setPrice","location","setLocation","willDeliver","setWillDeliver","history","handleOnSubmit","event","preventDefault","url","method","body","post","data","success","error","console","log","push","target","value"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport { callApi } from '../api';\nimport { useHistory } from 'react-router-dom';\n\n\n\nconst NewPost = ({posts, setPosts, token}) =>{\n    const [title, setTitle] = useState('');\n    const [description, setDescription]= useState('')\n    const [price, setPrice] = useState ('');\n    const [location, setLocation] = useState ('On Request');\n    const [willDeliver, setWillDeliver] = useState (false);\n    const history= useHistory ();\n\n\n    const handleOnSubmit = async (event) => {\n        event.preventDefault();\n\n        const { data, success, error } = await callApi({\n            url: `/posts`,\n            method: 'POST',\n            token: token,\n            body: { post:  \n          {  title,\n            description,\n            price,\n            location,\n            willDeliver}\n                },\n        })\n        if(data && success && data.post)\n        {setPosts([ ...posts, data.post])}\n        console.log(posts)\n        console.log(data)\n\n        history.push(`/posts/`);\n \n\n    }\n\n    return (\n    \n        <form className='add-post' onSubmit = {handleOnSubmit}>       \n        <h2>Create New Post:</h2> \n        <input type= 'text' placeholder= 'title' \n        value = {title}\n        onChange= {(event)=>{\n            setTitle(event.target.value)\n        }}\n        required></input>\n        <textarea placeholder= 'Description' rows=\"2\" cols=\"15\" maxLength=\"50\" required\n        value= {description}\n        onChange= {(event)=> {\n            setDescription(event.target.value)\n        }}\n        ></textarea>\n        <input type='number' placeholder= 'Price' required\n        value= {price}\n        onChange= {(event)=> {\n            setPrice(event.target.value)\n        }}\n        ></input>\n        <input type= 'text' placeholder= 'Location'\n        value={location} \n        onChange= {(event)=> {\n            setLocation(event.target.value)\n        }}\n        ></input>\n        <select\n        value= {true}\n        onChange= {(event)=> {\n         setWillDeliver(event.target.value)\n        }}\n        >\n        <option >Able to Deliver?</option>\n        <option value='yes'>Yes</option>\n        <option value='no'>No</option>\n        </select>\n        <button>Add Post</button>\n        </form>\n    \n    )\n\n}\n\nexport default NewPost;"]},"metadata":{},"sourceType":"module"}
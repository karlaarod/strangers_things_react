{"ast":null,"code":"import _regeneratorRuntime from\"/Users/karlarodriguez/Desktop/course_work/strangers_thing_react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/karlarodriguez/Desktop/course_work/strangers_thing_react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";export var BASE_URL='https://strangers-things.herokuapp.com/api/';export var COHORT_NAME='2010-USD-RM-WEB-PT';export var API_URL=BASE_URL+COHORT_NAME;export var callApi=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref){var url,method,token,body,options,response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url=_ref.url,method=_ref.method,token=_ref.token,body=_ref.body;_context.prev=1;options={method:method?method.toUpperCase():'GET',headers:{'Content-Type':'application/json'},body:JSON.stringify(body)};if(token){options.headers['Authorization']=\"Bearer \".concat(token);}console.log('request url: ',API_URL+url);_context.next=7;return fetch(API_URL+url,options);case 7:response=_context.sent;_context.next=10;return response.json();case 10:data=_context.sent;if(!data.error){_context.next=13;break;}throw data.error;case 13:return _context.abrupt(\"return\",data);case 16:_context.prev=16;_context.t0=_context[\"catch\"](1);alert(\"Error: \".concat(_context.t0.message));case 19:case\"end\":return _context.stop();}}},_callee,null,[[1,16]]);}));return function callApi(_x){return _ref2.apply(this,arguments);};}();","map":{"version":3,"sources":["/Users/karlarodriguez/Desktop/course_work/strangers_thing_react/src/api/index.js"],"names":["BASE_URL","COHORT_NAME","API_URL","callApi","url","method","token","body","options","toUpperCase","headers","JSON","stringify","console","log","fetch","response","json","data","error","alert","message"],"mappings":"yWAAA,MAAO,IAAMA,CAAAA,QAAQ,CAAG,6CAAjB,CACP,MAAO,IAAMC,CAAAA,WAAW,CAAG,oBAApB,CACP,MAAO,IAAMC,CAAAA,OAAO,CAAGF,QAAQ,CAAGC,WAA3B,CAEP,MAAO,IAAME,CAAAA,OAAO,2FAAG,uLAASC,GAAT,MAASA,GAAT,CAAcC,MAAd,MAAcA,MAAd,CAAsBC,KAAtB,MAAsBA,KAAtB,CAA6BC,IAA7B,MAA6BA,IAA7B,iBAETC,OAFS,CAEC,CACZH,MAAM,CAAEA,MAAM,CAAGA,MAAM,CAACI,WAAP,EAAH,CAA0B,KAD5B,CAEZC,OAAO,CAAE,CACL,eAAgB,kBADX,CAFG,CAKZH,IAAI,CAAEI,IAAI,CAACC,SAAL,CAAeL,IAAf,CALM,CAFD,CASf,GAAID,KAAJ,CAAW,CACPE,OAAO,CAACE,OAAR,CAAgB,eAAhB,mBAA6CJ,KAA7C,EACH,CACDO,OAAO,CAACC,GAAR,CAAY,eAAZ,CAA6BZ,OAAO,CAAGE,GAAvC,EAZe,sBAaQW,CAAAA,KAAK,CAACb,OAAO,CAAGE,GAAX,CAAgBI,OAAhB,CAbb,QAaTQ,QAbS,sCAcIA,CAAAA,QAAQ,CAACC,IAAT,EAdJ,SAcTC,IAdS,mBAiBXA,IAAI,CAACC,KAjBM,+BAiBOD,CAAAA,IAAI,CAACC,KAjBZ,yCAkBRD,IAlBQ,4DAqBfE,KAAK,kBAAY,YAAMC,OAAlB,EAAL,CArBe,qEAAH,kBAAPlB,CAAAA,OAAO,6CAAb","sourcesContent":["export const BASE_URL = 'https://strangers-things.herokuapp.com/api/';\nexport const COHORT_NAME = '2010-USD-RM-WEB-PT';\nexport const API_URL = BASE_URL + COHORT_NAME;\n\nexport const callApi = async ({ url, method, token, body }) => {\n    try {\n        const options = {\n            method: method ? method.toUpperCase() : 'GET',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(body),\n        };\n        if (token) {\n            options.headers['Authorization'] = `Bearer ${token}`;\n        }\n        console.log('request url: ', API_URL + url);\n        const response = await fetch(API_URL + url, options);\n        const data = await response.json();\n        // console.log('data: ', data);\n        // console.log('callApi: ', { url, method, token, body });\n        if (data.error) throw data.error;\n        return data;\n\n    } catch (error) {\n        alert( `Error: ${error.message}`);\n    }\n};"]},"metadata":{},"sourceType":"module"}
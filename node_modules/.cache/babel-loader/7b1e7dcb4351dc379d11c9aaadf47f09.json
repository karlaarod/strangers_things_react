{"ast":null,"code":"import React from\"react\";import{useHistory}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Inbox=function Inbox(_ref){var userData=_ref.userData,posts=_ref.posts;var history=useHistory();console.log(\"userData\",userData);if(!userData.messages||!posts){return/*#__PURE__*/_jsx(\"div\",{});}var userId=userData._id;var myInbox=userData.messages;var sentMessages=myInbox.filter(function(message){return userId===message.fromUser._id;});var receivedMessages=myInbox.filter(function(message){return userId!==message.fromUser._id;});console.log(\"messages\",myInbox);console.log(\"sent\",sentMessages);console.log(\"received\",receivedMessages);return/*#__PURE__*/_jsxs(\"div\",{className:\"messages-display\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Messages Received:\"}),receivedMessages?receivedMessages.map(function(message,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"messages-received\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"From: \",message.fromUser.username]}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Message: \",message.content]}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Orginial Post: \",message.post.title,\" \"]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){history.push(\"/posts/\".concat(message.post._id));},children:\"View Original Post\"})]},index);}):/*#__PURE__*/_jsx(\"h3\",{children:\"No Messages Received\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Messages Sent:\"}),sentMessages?sentMessages.map(function(message,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"messages-sent\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"From: \",message.fromUser.username]}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Message: \",message.content]}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Orginial Post: \",message.post.title,\" \"]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){history.push(\"/posts/\".concat(message.post._id));},children:\"View Original Post\"})]},index);}):/*#__PURE__*/_jsx(\"h3\",{children:\"No Messages Sent\"})]});};export default Inbox;","map":{"version":3,"sources":["/Users/karlarodriguez/Desktop/course_work/strangers_thing_react/src/components/Inbox.js"],"names":["React","useHistory","Inbox","userData","posts","history","console","log","messages","userId","_id","myInbox","sentMessages","filter","message","fromUser","receivedMessages","map","index","username","content","post","title","push"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,UAAT,KAA2B,kBAA3B,C,wFAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,MAAyB,IAAtBC,CAAAA,QAAsB,MAAtBA,QAAsB,CAAZC,KAAY,MAAZA,KAAY,CACrC,GAAMC,CAAAA,OAAO,CAAGJ,UAAU,EAA1B,CAGAK,OAAO,CAACC,GAAR,CAAY,UAAZ,CAAwBJ,QAAxB,EAGA,GAAK,CAACA,QAAQ,CAACK,QAAV,EAAsB,CAACJ,KAA5B,CAAmC,CAClC,mBAAQ,cAAR,CACA,CACD,GAAMK,CAAAA,MAAM,CAAGN,QAAQ,CAACO,GAAxB,CACA,GAAMC,CAAAA,OAAO,CAAGR,QAAQ,CAACK,QAAzB,CACA,GAAMI,CAAAA,YAAY,CAAGD,OAAO,CAACE,MAAR,CAAe,SAACC,OAAD,CAAa,CAC/C,MAAOL,CAAAA,MAAM,GAAKK,OAAO,CAACC,QAAR,CAAiBL,GAAnC,CACD,CAFoB,CAArB,CAGA,GAAMM,CAAAA,gBAAgB,CAAGL,OAAO,CAACE,MAAR,CAAe,SAACC,OAAD,CAAa,CACnD,MAAOL,CAAAA,MAAM,GAAKK,OAAO,CAACC,QAAR,CAAiBL,GAAnC,CACD,CAFwB,CAAzB,CAGCJ,OAAO,CAACC,GAAR,CAAY,UAAZ,CAAwBI,OAAxB,EACCL,OAAO,CAACC,GAAR,CAAY,MAAZ,CAAoBK,YAApB,EAEAN,OAAO,CAACC,GAAR,CAAY,UAAZ,CAAwBS,gBAAxB,EACF,mBACE,aAAK,SAAS,CAAC,kBAAf,wBACE,0CADF,CAGGA,gBAAgB,CACfA,gBAAgB,CAACC,GAAjB,CAAqB,SAACH,OAAD,CAAUI,KAAV,CAAoB,CACvC,mBACE,aAAiB,SAAS,CAAC,mBAA3B,wBACE,+BAAWJ,OAAO,CAACC,QAAR,CAAiBI,QAA5B,GADF,cAEE,kCAAcL,OAAO,CAACM,OAAtB,GAFF,cAGE,wCAAoBN,OAAO,CAACO,IAAR,CAAaC,KAAjC,OAHF,cAIE,eACE,OAAO,CAAE,kBAAM,CACbjB,OAAO,CAACkB,IAAR,kBAAuBT,OAAO,CAACO,IAAR,CAAaX,GAApC,GACD,CAHH,gCAJF,GAAUQ,KAAV,CADF,CAcD,CAfD,CADe,cAkBf,4CArBJ,cAuBE,sCAvBF,CAyBGN,YAAY,CACXA,YAAY,CAACK,GAAb,CAAiB,SAACH,OAAD,CAAUI,KAAV,CAAoB,CACnC,mBACE,aAAiB,SAAS,CAAC,eAA3B,wBACE,+BAAWJ,OAAO,CAACC,QAAR,CAAiBI,QAA5B,GADF,cAEE,kCAAcL,OAAO,CAACM,OAAtB,GAFF,cAGE,wCAAoBN,OAAO,CAACO,IAAR,CAAaC,KAAjC,OAHF,cAIE,eACE,OAAO,CAAE,kBAAM,CACbjB,OAAO,CAACkB,IAAR,kBAAuBT,OAAO,CAACO,IAAR,CAAaX,GAApC,GACD,CAHH,gCAJF,GAAUQ,KAAV,CADF,CAcD,CAfD,CADW,cAkBX,wCA3CJ,GADF,CAgDD,CAtED,CAwEA,cAAehB,CAAAA,KAAf","sourcesContent":["import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nconst Inbox = ({ userData, posts }) => {\n  const history = useHistory();\n\n\n  console.log(\"userData\", userData);\n\n\n  if ( !userData.messages || !posts) {\n   return  <div></div>;\n  }\n  const userId = userData._id;\n  const myInbox = userData.messages ;\n  const sentMessages = myInbox.filter((message) => {\n    return userId === message.fromUser._id;\n  });\n  const receivedMessages = myInbox.filter((message) => {\n    return userId !== message.fromUser._id;\n  });\n   console.log(\"messages\", myInbox);\n    console.log(\"sent\", sentMessages);\n  \n    console.log(\"received\", receivedMessages);\n  return (\n    <div className=\"messages-display\">\n      <h2>Messages Received:</h2>\n\n      {receivedMessages ? (\n        receivedMessages.map((message, index) => {\n          return (\n            <div key={index} className=\"messages-received\">\n              <h3>From: {message.fromUser.username}</h3>\n              <h3>Message: {message.content}</h3>\n              <h3>Orginial Post: {message.post.title} </h3>\n              <button\n                onClick={() => {\n                  history.push(`/posts/${message.post._id}`);\n                }}\n              >\n                View Original Post\n              </button>\n            </div>\n          );\n        })\n      ) : (\n        <h3>No Messages Received</h3>\n      )}\n      <h2>Messages Sent:</h2>\n\n      {sentMessages ? (\n        sentMessages.map((message, index) => {\n          return (\n            <div key={index} className=\"messages-sent\">\n              <h3>From: {message.fromUser.username}</h3>\n              <h3>Message: {message.content}</h3>\n              <h3>Orginial Post: {message.post.title} </h3>\n              <button\n                onClick={() => {\n                  history.push(`/posts/${message.post._id}`);\n                }}\n              >\n                View Original Post\n              </button>\n            </div>\n          );\n        })\n      ) : (\n        <h3>No Messages Sent</h3>\n      )}\n    </div>\n  );\n};\n\nexport default Inbox;\n"]},"metadata":{},"sourceType":"module"}
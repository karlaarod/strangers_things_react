{"ast":null,"code":"import _regeneratorRuntime from\"/Users/karlarodriguez/Desktop/course_work/strangers_thing_react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/karlarodriguez/Desktop/course_work/strangers_thing_react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";export var BASE_URL='https://strangers-things.herokuapp.com/api/';export var COHORT_NAME='2010-USD-RM-WEB-PT';export var API_URL=BASE_URL+COHORT_NAME;export var callApi=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref){var url,method,token,body,options,response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url=_ref.url,method=_ref.method,token=_ref.token,body=_ref.body;console.log(\"callApi: \",{url:url,method:method,token:token,body:body});_context.prev=2;options={method:method?method.toUpperCase():'GET',headers:{'Content-Type':'application/json'},body:JSON.stringify(body)};if(token){options.headers['Authorization']=\"Bearer \".concat(token);}console.log('request url: ',API_URL+url);_context.next=8;return fetch(API_URL+url,options);case 8:response=_context.sent;_context.next=11;return response.json();case 11:data=_context.sent;console.log('data: ',data);// console.log('callApi: ', { url, method, token, body });\nif(!data.error){_context.next=15;break;}throw data.error;case 15:return _context.abrupt(\"return\",data);case 18:_context.prev=18;_context.t0=_context[\"catch\"](2);alert(\"Error: \".concat(_context.t0.message));case 21:case\"end\":return _context.stop();}}},_callee,null,[[2,18]]);}));return function callApi(_x){return _ref2.apply(this,arguments);};}();","map":{"version":3,"sources":["/Users/karlarodriguez/Desktop/course_work/strangers_thing_react/src/api/index.js"],"names":["BASE_URL","COHORT_NAME","API_URL","callApi","url","method","token","body","console","log","options","toUpperCase","headers","JSON","stringify","fetch","response","json","data","error","alert","message"],"mappings":"yWAAA,MAAO,IAAMA,CAAAA,QAAQ,CAAG,6CAAjB,CACP,MAAO,IAAMC,CAAAA,WAAW,CAAG,oBAApB,CACP,MAAO,IAAMC,CAAAA,OAAO,CAAGF,QAAQ,CAAGC,WAA3B,CAEP,MAAO,IAAME,CAAAA,OAAO,2FAAG,uLAASC,GAAT,MAASA,GAAT,CAAcC,MAAd,MAAcA,MAAd,CAAsBC,KAAtB,MAAsBA,KAAtB,CAA6BC,IAA7B,MAA6BA,IAA7B,CACnBC,OAAO,CAACC,GAAR,CAAY,WAAZ,CAAyB,CAAEL,GAAG,CAAHA,GAAF,CAAOC,MAAM,CAANA,MAAP,CAAeC,KAAK,CAALA,KAAf,CAAsBC,IAAI,CAAJA,IAAtB,CAAzB,EADmB,gBAGTG,OAHS,CAGC,CACZL,MAAM,CAAEA,MAAM,CAAGA,MAAM,CAACM,WAAP,EAAH,CAA0B,KAD5B,CAEZC,OAAO,CAAE,CACL,eAAgB,kBADX,CAFG,CAKZL,IAAI,CAAEM,IAAI,CAACC,SAAL,CAAeP,IAAf,CALM,CAHD,CAUf,GAAID,KAAJ,CAAW,CACPI,OAAO,CAACE,OAAR,CAAgB,eAAhB,mBAA6CN,KAA7C,EACH,CACDE,OAAO,CAACC,GAAR,CAAY,eAAZ,CAA6BP,OAAO,CAAGE,GAAvC,EAbe,sBAcQW,CAAAA,KAAK,CAACb,OAAO,CAAGE,GAAX,CAAgBM,OAAhB,CAdb,QAcTM,QAdS,sCAeIA,CAAAA,QAAQ,CAACC,IAAT,EAfJ,SAeTC,IAfS,eAgBfV,OAAO,CAACC,GAAR,CAAY,QAAZ,CAAsBS,IAAtB,EACA;AAjBe,IAkBXA,IAAI,CAACC,KAlBM,+BAkBOD,CAAAA,IAAI,CAACC,KAlBZ,yCAmBRD,IAnBQ,4DAsBfE,KAAK,kBAAY,YAAMC,OAAlB,EAAL,CAtBe,qEAAH,kBAAPlB,CAAAA,OAAO,6CAAb","sourcesContent":["export const BASE_URL = 'https://strangers-things.herokuapp.com/api/';\nexport const COHORT_NAME = '2010-USD-RM-WEB-PT';\nexport const API_URL = BASE_URL + COHORT_NAME;\n\nexport const callApi = async ({ url, method, token, body }) => {\n    console.log(\"callApi: \", { url, method, token, body });\n    try {\n        const options = {\n            method: method ? method.toUpperCase() : 'GET',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(body),\n        };\n        if (token) {\n            options.headers['Authorization'] = `Bearer ${token}`;\n        }\n        console.log('request url: ', API_URL + url);\n        const response = await fetch(API_URL + url, options);\n        const data = await response.json();\n        console.log('data: ', data);\n        // console.log('callApi: ', { url, method, token, body });\n        if (data.error) throw data.error;\n        return data;\n\n    } catch (error) {\n        alert( `Error: ${error.message}`);\n    }\n};"]},"metadata":{},"sourceType":"module"}
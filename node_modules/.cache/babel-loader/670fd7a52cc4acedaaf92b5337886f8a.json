{"ast":null,"code":"import _slicedToArray from\"/Users/karlarodriguez/Desktop/course_work/strangers_thing_react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{useHistory}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var postMatches=function postMatches(post,searchTerm){var searchTermLowercase=searchTerm.toLowerCase();var description=post.description,location=post.location,title=post.title,username=post.author.username;var toMatch=[description,location,title,username];for(var _i=0,_toMatch=toMatch;_i<_toMatch.length;_i++){var field=_toMatch[_i];if(field.toLowerCase().includes(searchTermLowercase)){return true;}}};var List=function List(_ref){var posts=_ref.posts;var history=useHistory();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),searchTerm=_useState2[0],updateSearchTerm=_useState2[1];var postsDisplay=searchTerm.length>0?posts.filter(function(post){return postMatches(post,searchTerm);}):posts;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Posts\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"search-bar\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"search-input\",type:\"text\",placeholder:\"Search for posts\",value:searchTerm,onChange:function onChange(event){updateSearchTerm(event.target.value);}}),/*#__PURE__*/_jsx(\"button\",{children:\"SEARCH\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"post-list\",children:postsDisplay.length>0&&postsDisplay?postsDisplay.map(function(post){return/*#__PURE__*/_jsxs(\"div\",{className:\"post\",children:[/*#__PURE__*/_jsx(\"h5\",{children:post.title}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Posted by: \",post.author.username]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Description: \",post.description,\" \"]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){history.push(\"/posts/\".concat(post._id));},children:\"View Post\"})]},post._id);}):/*#__PURE__*/_jsx(\"h5\",{children:\"NO posts to display\"})})]});};export default List;","map":{"version":3,"sources":["/Users/karlarodriguez/Desktop/course_work/strangers_thing_react/src/components/List.js"],"names":["React","useState","useHistory","postMatches","post","searchTerm","searchTermLowercase","toLowerCase","description","location","title","username","author","toMatch","field","includes","List","posts","history","updateSearchTerm","postsDisplay","length","filter","event","target","value","map","push","_id"],"mappings":"sLAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,UAAT,KAA2B,kBAA3B,C,6IAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,IAAD,CAAOC,UAAP,CAAqB,CACrC,GAAMC,CAAAA,mBAAmB,CAAED,UAAU,CAACE,WAAX,EAA3B,CADqC,GAGjCC,CAAAA,WAHiC,CAOjCJ,IAPiC,CAGjCI,WAHiC,CAIjCC,QAJiC,CAOjCL,IAPiC,CAIjCK,QAJiC,CAKjCC,KALiC,CAOjCN,IAPiC,CAKjCM,KALiC,CAMvBC,QANuB,CAOjCP,IAPiC,CAMjCQ,MANiC,CAMvBD,QANuB,CASrC,GAAME,CAAAA,OAAO,CAAG,CAACL,WAAD,CAAcC,QAAd,CAAwBC,KAAxB,CAA+BC,QAA/B,CAAhB,CACA,sBAAoBE,OAApB,yBAA4B,CAAvB,GAAMC,CAAAA,KAAK,aAAX,CACD,GAAIA,KAAK,CAACP,WAAN,GAAoBQ,QAApB,CAA6BT,mBAA7B,CAAJ,CAAsD,CAClD,MAAO,KAAP,CACH,CACJ,CACJ,CAfD,CAiBA,GAAMU,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,MAAe,IAAZC,CAAAA,KAAY,MAAZA,KAAY,CACxB,GAAMC,CAAAA,OAAO,CAAGhB,UAAU,EAA1B,CADwB,cAEeD,QAAQ,CAAE,EAAF,CAFvB,wCAEjBI,UAFiB,eAELc,gBAFK,eAIxB,GAAMC,CAAAA,YAAY,CAAGf,UAAU,CAACgB,MAAX,CAAoB,CAApB,CACrBJ,KAAK,CAACK,MAAN,CAAa,SAAClB,IAAD,QAAUD,CAAAA,WAAW,CAACC,IAAD,CAAOC,UAAP,CAArB,EAAb,CADqB,CACmCY,KADxD,CAGA,mBACI,wCAEI,6BAFJ,cAGI,aAAK,SAAS,CAAE,YAAhB,wBACA,cACA,SAAS,CAAE,cADX,CAEA,IAAI,CAAG,MAFP,CAGA,WAAW,CAAE,kBAHb,CAIA,KAAK,CAAGZ,UAJR,CAKA,QAAQ,CAAG,kBAACkB,KAAD,CAAU,CACjBJ,gBAAgB,CAACI,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAhB,CACH,CAPD,EADA,cAUC,kCAVD,GAHJ,cAeI,YAAK,SAAS,CAAC,WAAf,UACEL,YAAY,CAACC,MAAb,CAAsB,CAAtB,EAA2BD,YAA3B,CACEA,YAAY,CAACM,GAAb,CAAiB,SAAEtB,IAAF,qBACb,aAAqB,SAAS,CAAE,MAAhC,wBACJ,oBAAKA,IAAI,CAACM,KAAV,EADI,cAEJ,qCAAiBN,IAAI,CAACQ,MAAL,CAAYD,QAA7B,GAFI,cAGJ,uCAAmBP,IAAI,CAACI,WAAxB,OAHI,cAIJ,eACI,OAAO,CAAE,kBAAM,CACfU,OAAO,CAACS,IAAR,kBAAuBvB,IAAI,CAACwB,GAA5B,GACC,CAHL,uBAJI,GAAWxB,IAAI,CAACwB,GAAhB,CADa,EAAjB,CADF,cAaM,2CAdR,EAfJ,GADJ,CAmCH,CA1CD,CA4CA,cAAeZ,CAAAA,IAAf","sourcesContent":["import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nconst postMatches = (post, searchTerm) =>{\n    const searchTermLowercase= searchTerm.toLowerCase();\n    const{ \n        description, \n        location, \n        title, \n        author: { username }\n    } = post;\n\n    const toMatch = [description, location, title, username];\n    for (const field of toMatch){\n        if (field.toLowerCase().includes(searchTermLowercase)){\n            return true;\n        }\n    }\n}\n\nconst List = ({ posts }) => {\n    const history = useHistory();\n    const [searchTerm, updateSearchTerm] = useState ('')\n\n    const postsDisplay = searchTerm.length > 0 ?\n    posts.filter((post) => postMatches(post, searchTerm)) : posts;\n\n    return (\n        <>\n            \n            <h2>Posts</h2>\n            <div className= 'search-bar'>\n            <input\n            className= 'search-input'\n            type = 'text'\n            placeholder= 'Search for posts'\n            value= {searchTerm}\n            onChange= {(event)=> {\n                updateSearchTerm(event.target.value);\n            }} \n            />\n             <button>SEARCH</button>\n            </div>\n            <div className='post-list'>\n            { postsDisplay.length > 0 && postsDisplay ? (\n                postsDisplay.map(( post ) => (\n                    <div key= {post._id} className= 'post'>\n                <h5>{post.title}</h5>\n                <div>Posted by: {post.author.username}</div>\n                <div>Description: {post.description} </div>\n                <button\n                    onClick={() => {\n                    history.push(`/posts/${post._id}`);\n                    }}>View Post</button>\n                    </div>\n                    ))\n                ) : (\n                    <h5>NO posts to display</h5>\n            )}\n            </div>\n        </>\n    );\n};\n\nexport default List;\n\n"]},"metadata":{},"sourceType":"module"}